# üí∞ Personal Finance Tracker API

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π REST API —Å–µ—Ä–≤–∏—Å –¥–ª—è —É—á–µ—Ç–∞ –ª–∏—á–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤. –ü–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏, —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤ –∏ –ø–æ–ª—É—á–∞—Ç—å —Å–≤–æ–¥–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É.

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ **Modern Python Stack** (FastAPI + Async SQLAlchemy) –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

*   **–Ø–∑—ã–∫:** Python 3.10
*   **–§—Ä–µ–π–º–≤–æ—Ä–∫:** FastAPI (Async)
*   **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL 15
*   **–î—Ä–∞–π–≤–µ—Ä –ë–î:** AsyncPG
*   **ORM:** SQLAlchemy 2.0 (Async Session)
*   **–ú–∏–≥—Ä–∞—Ü–∏–∏:** Alembic
*   **–í–∞–ª–∏–¥–∞—Ü–∏—è:** Pydantic V2
*   **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** Pydantic Settings
*   **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** Pytest + Pytest-Asyncio (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã)
*   **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:** Docker & Docker Compose

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone <—Å—Å—ã–ª–∫–∞-–Ω–∞-–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
    cd FinanceTracker
    ```

2.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:**
    ```bash
    docker-compose up --build -d
    ```
    *Docker –∑–∞–ø—É—Å—Ç–∏—Ç PostgreSQL (–æ—Å–Ω–æ–≤–Ω—É—é –∏ —Ç–µ—Å—Ç–æ–≤—É—é), –ø—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –ø–æ–¥–Ω–∏–º–µ—Ç API.*

3.  **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Swagger UI):**
    üëâ **http://localhost:8000/docs**

---

## üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

–¢–µ—Å—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É—è –æ—Ç–¥–µ–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

```bash
docker-compose run --rm tests
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
FinanceTracker/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/             # –õ–æ–≥–∏–∫–∞ API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routers/     # –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã (Categories, Transactions)
‚îÇ   ‚îú‚îÄ‚îÄ core/            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Pydantic Settings)
‚îÇ   ‚îú‚îÄ‚îÄ db/              # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ë–î (Engine, Session)
‚îÇ   ‚îú‚îÄ‚îÄ models/          # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ schemas/         # Pydantic —Å—Ö–µ–º—ã (Request/Response)
‚îÇ   ‚îî‚îÄ‚îÄ main.py          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, Lifespan, CORS
‚îú‚îÄ‚îÄ alembic/             # –§–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ tests/               # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏ —Ñ–∏–∫—Å—Ç—É—Ä—ã (conftest.py)
‚îú‚îÄ‚îÄ docker-compose.yml   # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ (App, DB, Tests)
‚îî‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## üîå API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É `/docs` –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞.

### üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (Categories)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **GET** | `/categories/` | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π. |
| **POST** | `/categories/` | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é. <br>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ (Title Case), –∑–∞–ø—Ä–µ—â–∞–µ—Ç —Ü–∏—Ñ—Ä—ã. |

### üí∏ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (Transactions)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **POST** | `/transactions/` | –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é. <br>–¢—Ä–µ–±—É–µ—Ç `amount`, `category_id` –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ. |
| **GET** | `/transactions/` | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. <br>**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `category_id` (—Ñ–∏–ª—å—Ç—Ä), `skip`, `limit` (–ø–∞–≥–∏–Ω–∞—Ü–∏—è). |
| **GET** | `/transactions/summary/` | **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞:** –ü–æ–ª—É—á–∏—Ç—å –æ–±—â—É—é —Å—É–º–º—É —Ä–∞—Å—Ö–æ–¥–æ–≤, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º. |
| **GET** | `/transactions/{id}` | –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. |
| **PUT** | `/transactions/{id}` | –û–±–Ω–æ–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é (—Å—É–º–º—É, –æ–ø–∏—Å–∞–Ω–∏–µ –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é). |
| **DELETE** | `/transactions/{id}` | –£–¥–∞–ª–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é. |